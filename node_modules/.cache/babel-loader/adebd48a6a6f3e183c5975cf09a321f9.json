{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Adarsh\\\\Desktop\\\\carsgo\\\\src\\\\components\\\\Sales.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport Chart from \"chart.js/auto\";\nimport './header.css';\nimport { Bar, Doughnut, Pie } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Sales(props) {\n  _s();\n\n  const [duration, setDuration] = useState(365);\n  const [d, setd] = useState([]);\n  const [chart_dataa, set_chart_data] = useState(); //predefined options (settings) for bar charts\n\n  const barOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top'\n      },\n      title: {\n        display: true\n      }\n    }\n  };\n  const chart_options = {\n    responsive: true,\n    legend: {\n      display: false\n    },\n    plugins: {\n      legend: {\n        display: false\n      }\n    }\n  };\n\n  function handleInput() {\n    var x = document.getElementById('timeInput').value;\n    setDuration(x);\n  }\n\n  function handleResponse(response) {\n    var dArray = [];\n    let labels = response['name'];\n    const chart_data = {\n      labels,\n      datasets: [{\n        data: response['count'],\n        backgroundColor: 'rgba(255, 99, 132, 0.5)'\n      }]\n    };\n    dArray.push( /*#__PURE__*/_jsxDEV(Bar, {\n      options: chart_options,\n      data: chart_data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }, this));\n    setd(dArray);\n  }\n\n  useEffect(() => {\n    fetch('http://127.0.0.1:5000/auto_reports', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      handleResponse(data);\n    });\n  }, [duration]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '50%',\n      margin: 'auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      handleInput: handleInput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), d]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Sales, \"FkhJvWNWGleRgppopdq+b5yng6k=\");\n\n_c = Sales;\n\nfunction Header(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pageHeader\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pageTitle\",\n      children: \"Auto Generated Reports\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n}\n\n_c2 = Header;\nexport default Sales;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Sales\");\n$RefreshReg$(_c2, \"Header\");","map":{"version":3,"names":["useEffect","useState","Chart","Bar","Doughnut","Pie","Sales","props","duration","setDuration","d","setd","chart_dataa","set_chart_data","barOptions","responsive","plugins","legend","position","title","display","chart_options","handleInput","x","document","getElementById","value","handleResponse","response","dArray","labels","chart_data","datasets","data","backgroundColor","push","fetch","method","headers","then","res","json","width","margin","Header"],"sources":["C:/Users/Adarsh/Desktop/carsgo/src/components/Sales.js"],"sourcesContent":["import {useEffect, useState } from \"react\";\r\nimport Chart from \"chart.js/auto\";\r\nimport './header.css'\r\nimport {Bar, Doughnut, Pie} from 'react-chartjs-2'\r\n\r\n\r\nfunction Sales(props){\r\n    const [duration, setDuration] = useState(365);\r\n    const [d, setd] = useState([]);\r\n    const [chart_dataa, set_chart_data] = useState();\r\n\r\n    //predefined options (settings) for bar charts\r\n    const barOptions = {\r\n        responsive: true,\r\n        plugins: {\r\n            legend: {\r\n            position: 'top',\r\n            },\r\n            title: {\r\n            display: true,\r\n            }\r\n        },\r\n    }\r\n    const chart_options = {\r\n        responsive: true,\r\n        legend: {\r\n            display: false,\r\n        },\r\n        plugins: {\r\n            legend: {\r\n                display: false\r\n            }\r\n        },\r\n    };\r\n\r\n    function handleInput(){\r\n        var x = document.getElementById('timeInput').value;\r\n        setDuration(x)\r\n    }\r\n\r\n    function handleResponse(response){\r\n        var dArray = []\r\n        let labels = response['name']\r\n        const chart_data = {\r\n            labels,\r\n            datasets: [{\r\n                data: response['count'],\r\n                backgroundColor: 'rgba(255, 99, 132, 0.5)',\r\n            }],\r\n        }\r\n        dArray.push(<Bar options={chart_options} data={chart_data} />)\r\n        setd(dArray)\r\n    }\r\n\r\n    useEffect(() =>{\r\n        fetch('http://127.0.0.1:5000/auto_reports',{\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {handleResponse(data)})\r\n    }, [duration])\r\n\r\n    return (\r\n        <div style={{width: '50%', margin: 'auto'}}>\r\n        <Header handleInput={handleInput}/>\r\n        {d}\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Header(props){\r\n\r\n    return (\r\n        <div className='pageHeader'>\r\n            <div className=\"pageTitle\">Auto Generated Reports</div>\r\n            {/* <div className=\"pageHeaderInner\">\r\n                <select name=\"timeInput\" id=\"timeInput\" onChange={props.handleInput}>\r\n                    <option value=\"365\">Last 1 Year</option>\r\n                    <option value='180'>Last 180 Days</option>\r\n                    <option value='90'>Last 90 Days</option>\r\n                    <option value='30'>Last 30 Days</option>\r\n                </select>\r\n            </div> */}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Sales;"],"mappings":";;;AAAA,SAAQA,SAAR,EAAmBC,QAAnB,QAAmC,OAAnC;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAO,cAAP;AACA,SAAQC,GAAR,EAAaC,QAAb,EAAuBC,GAAvB,QAAiC,iBAAjC;;;AAGA,SAASC,KAAT,CAAeC,KAAf,EAAqB;EAAA;;EACjB,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,GAAD,CAAxC;EACA,MAAM,CAACS,CAAD,EAAIC,IAAJ,IAAYV,QAAQ,CAAC,EAAD,CAA1B;EACA,MAAM,CAACW,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,EAA9C,CAHiB,CAKjB;;EACA,MAAMa,UAAU,GAAG;IACfC,UAAU,EAAE,IADG;IAEfC,OAAO,EAAE;MACLC,MAAM,EAAE;QACRC,QAAQ,EAAE;MADF,CADH;MAILC,KAAK,EAAE;QACPC,OAAO,EAAE;MADF;IAJF;EAFM,CAAnB;EAWA,MAAMC,aAAa,GAAG;IAClBN,UAAU,EAAE,IADM;IAElBE,MAAM,EAAE;MACJG,OAAO,EAAE;IADL,CAFU;IAKlBJ,OAAO,EAAE;MACLC,MAAM,EAAE;QACJG,OAAO,EAAE;MADL;IADH;EALS,CAAtB;;EAYA,SAASE,WAAT,GAAsB;IAClB,IAAIC,CAAC,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAA7C;IACAjB,WAAW,CAACc,CAAD,CAAX;EACH;;EAED,SAASI,cAAT,CAAwBC,QAAxB,EAAiC;IAC7B,IAAIC,MAAM,GAAG,EAAb;IACA,IAAIC,MAAM,GAAGF,QAAQ,CAAC,MAAD,CAArB;IACA,MAAMG,UAAU,GAAG;MACfD,MADe;MAEfE,QAAQ,EAAE,CAAC;QACPC,IAAI,EAAEL,QAAQ,CAAC,OAAD,CADP;QAEPM,eAAe,EAAE;MAFV,CAAD;IAFK,CAAnB;IAOAL,MAAM,CAACM,IAAP,eAAY,QAAC,GAAD;MAAK,OAAO,EAAEd,aAAd;MAA6B,IAAI,EAAEU;IAAnC;MAAA;MAAA;MAAA;IAAA,QAAZ;IACApB,IAAI,CAACkB,MAAD,CAAJ;EACH;;EAED7B,SAAS,CAAC,MAAK;IACXoC,KAAK,CAAC,oCAAD,EAAsC;MACvCC,MAAM,EAAE,KAD+B;MAEvCC,OAAO,EAAE;QACL,gBAAgB;MADX;IAF8B,CAAtC,CAAL,CAMCC,IAND,CAMMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EANb,EAOCF,IAPD,CAOMN,IAAI,IAAI;MAACN,cAAc,CAACM,IAAD,CAAd;IAAqB,CAPpC;EAQH,CATQ,EASN,CAACzB,QAAD,CATM,CAAT;EAWA,oBACI;IAAK,KAAK,EAAE;MAACkC,KAAK,EAAE,KAAR;MAAeC,MAAM,EAAE;IAAvB,CAAZ;IAAA,wBACA,QAAC,MAAD;MAAQ,WAAW,EAAErB;IAArB;MAAA;MAAA;MAAA;IAAA,QADA,EAECZ,CAFD;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAMH;;GAjEQJ,K;;KAAAA,K;;AAmET,SAASsC,MAAT,CAAgBrC,KAAhB,EAAsB;EAElB,oBACI;IAAK,SAAS,EAAC,YAAf;IAAA,uBACI;MAAK,SAAS,EAAC,WAAf;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAcH;;MAhBQqC,M;AAkBT,eAAetC,KAAf"},"metadata":{},"sourceType":"module"}