{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Adarsh\\\\Desktop\\\\carsgo\\\\src\\\\components\\\\Sales.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport Chart from \"chart.js/auto\";\nimport './header.css';\nimport { Bar, Doughnut, Pie } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Sales(props) {\n  _s();\n\n  const [duration, setDuration] = useState(365);\n  const [d, setd] = useState([]); //predefined options (settings) for bar charts\n\n  const barOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top'\n      },\n      title: {\n        display: true\n      }\n    }\n  };\n\n  function handleInput() {\n    var x = document.getElementById('timeInput').value;\n    setDuration(x);\n  }\n\n  function handleResponse(response) {\n    var dArray = [];\n\n    for (let i in response) {\n      dArray.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chartTitle\",\n        children: response[i].title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 25\n      }, this));\n\n      if (response[i].name === 'bar') {\n        var data = {\n          labels: response[i].labels,\n          datasets: [{\n            label: 'Number of Units sold',\n            data: response[i].data,\n            backgroundColor: 'rgba(53, 162, 235, 0.9)'\n          }]\n        };\n        dArray.push( /*#__PURE__*/_jsxDEV(Bar, {\n          className: \"bar_chart\",\n          options: barOptions,\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 29\n        }, this));\n      } else if (response[i].name === 'pie') {\n        let data = {\n          labels: response[i].labels,\n          datasets: [{\n            data: response[i].data,\n            backgroundColor: ['#36a2eb', '#ff6384', '#ff9f40', '#ffcd56', '#4bc0c0', '#96f']\n          }]\n        };\n        dArray.push( /*#__PURE__*/_jsxDEV(Pie, {\n          className: \"pie_chart\",\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 29\n        }, this));\n      } else if (response[i].name === 'doughnut') {\n        let data = {\n          labels: response[i].labels,\n          datasets: [{\n            data: response[i].data,\n            backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(255, 206, 86, 0.2)', 'rgba(75, 192, 192, 0.2)', 'rgba(153, 102, 255, 0.2)', 'rgba(255, 159, 64, 0.2)'],\n            borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)', 'rgba(255, 159, 64, 1)'],\n            borderWidth: 1\n          }]\n        };\n        dArray.push( /*#__PURE__*/_jsxDEV(Doughnut, {\n          className: \"doughnut_chart\",\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 29\n        }, this));\n      } //'bar_h' for horizontal bar chart\n      else if (response[i].name === \"bar_h\") {\n        console.log('brrrrrrr');\n        let options = barOptions;\n        options.plugins.legend.position = 'right';\n        var chartData = {\n          labels: response[i].labels,\n          datasets: [{\n            label: 'Number of Units sold',\n            data: response[i].data,\n            backgroundColor: 'rgba(53, 162, 235, 0.9)'\n          }]\n        };\n        dArray.push( /*#__PURE__*/_jsxDEV(Bar, {\n          className: \"bar_chart\",\n          options: options,\n          data: chartData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 29\n        }, this));\n      }\n    }\n\n    setd(dArray);\n  }\n\n  useEffect(() => {\n    fetch('/auto_reports', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(duration)\n    }).then(res => res.json()).then(data => {\n      handleResponse(data);\n    });\n  }, [duration]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      handleInput: handleInput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }, this), d]\n  }, void 0, true);\n}\n\n_s(Sales, \"yI2/rK1fE0nlyBHAlTXCDugc8bU=\");\n\n_c = Sales;\n\nfunction Header(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pageHeader\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pageTitle\",\n      children: \"Sales v Models\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pageHeaderInner\",\n      children: /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"timeInput\",\n        id: \"timeInput\",\n        onChange: props.handleInput,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"365\",\n          children: \"Last 1 Year\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"180\",\n          children: \"Last 180 Days\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"90\",\n          children: \"Last 90 Days\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"30\",\n          children: \"Last 30 Days\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 9\n  }, this);\n}\n\n_c2 = Header;\nexport default Sales;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Sales\");\n$RefreshReg$(_c2, \"Header\");","map":{"version":3,"names":["useEffect","useState","Chart","Bar","Doughnut","Pie","Sales","props","duration","setDuration","d","setd","barOptions","responsive","plugins","legend","position","title","display","handleInput","x","document","getElementById","value","handleResponse","response","dArray","i","push","name","data","labels","datasets","label","backgroundColor","borderColor","borderWidth","console","log","options","chartData","fetch","method","headers","body","JSON","stringify","then","res","json","Header"],"sources":["C:/Users/Adarsh/Desktop/carsgo/src/components/Sales.js"],"sourcesContent":["import {useEffect, useState } from \"react\";\r\nimport Chart from \"chart.js/auto\";\r\nimport './header.css'\r\nimport {Bar, Doughnut, Pie} from 'react-chartjs-2'\r\n\r\n\r\nfunction Sales(props){\r\n    const [duration, setDuration] = useState(365);\r\n    const [d, setd] = useState([]);\r\n\r\n    //predefined options (settings) for bar charts\r\n    const barOptions = {\r\n        responsive: true,\r\n        plugins: {\r\n            legend: {\r\n            position: 'top',\r\n            },\r\n            title: {\r\n            display: true,\r\n            }\r\n        },\r\n    }\r\n\r\n    function handleInput(){\r\n        var x = document.getElementById('timeInput').value;\r\n        setDuration(x)\r\n    }\r\n\r\n    function handleResponse(response){\r\n        var dArray = []\r\n        for(let i in response){\r\n            \r\n            dArray.push(<div className=\"chartTitle\">{response[i].title}</div>)\r\n\r\n            if(response[i].name === 'bar'){\r\n                var data = {\r\n                    labels: response[i].labels,\r\n                    datasets: [\r\n                        {\r\n                            label: 'Number of Units sold',\r\n                            data: response[i].data,\r\n                            backgroundColor: 'rgba(53, 162, 235, 0.9)'\r\n                        }\r\n                    ]\r\n                }\r\n                dArray.push(<Bar className=\"bar_chart\" options={barOptions} data={data}/>)\r\n            }\r\n            else if(response[i].name === 'pie'){\r\n                let data = {\r\n                    labels: response[i].labels,\r\n                    datasets: [\r\n                        {\r\n                            data: response[i].data,\r\n                            backgroundColor: [\r\n                                '#36a2eb', '#ff6384', '#ff9f40', '#ffcd56', '#4bc0c0', '#96f'\r\n                            ]\r\n                        }\r\n                    ]\r\n                }\r\n                dArray.push(<Pie className=\"pie_chart\" data={data} />)\r\n            }\r\n            else if(response[i].name === 'doughnut'){\r\n                let data = {\r\n                    labels: response[i].labels,\r\n                    datasets: [\r\n                        {\r\n                            data: response[i].data,\r\n                            backgroundColor: [\r\n                                'rgba(255, 99, 132, 0.2)',\r\n                                'rgba(54, 162, 235, 0.2)',\r\n                                'rgba(255, 206, 86, 0.2)',\r\n                                'rgba(75, 192, 192, 0.2)',\r\n                                'rgba(153, 102, 255, 0.2)',\r\n                                'rgba(255, 159, 64, 0.2)',\r\n                            ],\r\n                            borderColor: [\r\n                                'rgba(255, 99, 132, 1)',\r\n                                'rgba(54, 162, 235, 1)',\r\n                                'rgba(255, 206, 86, 1)',\r\n                                'rgba(75, 192, 192, 1)',\r\n                                'rgba(153, 102, 255, 1)',\r\n                                'rgba(255, 159, 64, 1)',\r\n                            ],\r\n                            borderWidth: 1,\r\n                        }\r\n                    ]\r\n                }\r\n                dArray.push(<Doughnut className=\"doughnut_chart\" data={data}/>)\r\n            }\r\n            //'bar_h' for horizontal bar chart\r\n            else if(response[i].name === \"bar_h\"){ \r\n                console.log('brrrrrrr')\r\n                let options = barOptions\r\n                options.plugins.legend.position = 'right'\r\n                var chartData = {\r\n                    labels: response[i].labels,\r\n                    datasets: [\r\n                        {\r\n                            label: 'Number of Units sold',\r\n                            data: response[i].data,\r\n                            backgroundColor: 'rgba(53, 162, 235, 0.9)'\r\n                        }\r\n                    ]\r\n                }\r\n                dArray.push(<Bar className=\"bar_chart\" options={options} data={chartData}/>)\r\n            \r\n            }\r\n        }\r\n        setd(dArray)\r\n    }\r\n\r\n    useEffect(() =>{\r\n        fetch('/auto_reports',{\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(duration)\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {handleResponse(data)})\r\n    }, [duration])\r\n\r\n    return (\r\n        <>\r\n        <Header handleInput={handleInput}/>\r\n        {d}\r\n        </>\r\n    )\r\n}\r\n\r\nfunction Header(props){\r\n\r\n    return (\r\n        <div className='pageHeader'>\r\n            <div className=\"pageTitle\">Sales v Models</div>\r\n            <div className=\"pageHeaderInner\">\r\n                <select name=\"timeInput\" id=\"timeInput\" onChange={props.handleInput}>\r\n                    <option value=\"365\">Last 1 Year</option>\r\n                    <option value='180'>Last 180 Days</option>\r\n                    <option value='90'>Last 90 Days</option>\r\n                    <option value='30'>Last 30 Days</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Sales;"],"mappings":"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"},"metadata":{},"sourceType":"module"}